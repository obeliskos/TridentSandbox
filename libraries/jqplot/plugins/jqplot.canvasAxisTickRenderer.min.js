(function(n){n.jqplot.CanvasAxisTickRenderer=function(t){this.mark="outside";this.showMark=!0;this.showGridline=!0;this.isMinorTick=!1;this.angle=0;this.markSize=4;this.show=!0;this.showLabel=!0;this.labelPosition="auto";this.label="";this.value=null;this._styles={};this.formatter=n.jqplot.DefaultTickFormatter;this.formatString="";this.prefix="";this.fontFamily='"Trebuchet MS", Arial, Helvetica, sans-serif';this.fontSize="10pt";this.fontWeight="normal";this.fontStretch=1;this.textColor="#666666";this.enableFontSupport=!0;this.pt2px=null;this._elem;this._ctx;this._plotWidth;this._plotHeight;this._plotDimensions={height:null,width:null};n.extend(!0,this,t);var i={fontSize:this.fontSize,fontWeight:this.fontWeight,fontStretch:this.fontStretch,fillStyle:this.textColor,angle:this.getAngleRad(),fontFamily:this.fontFamily};this.pt2px&&(i.pt2px=this.pt2px);this._textRenderer=this.enableFontSupport?n.jqplot.support_canvas_text()?new n.jqplot.CanvasFontRenderer(i):new n.jqplot.CanvasTextRenderer(i):new n.jqplot.CanvasTextRenderer(i)};n.jqplot.CanvasAxisTickRenderer.prototype.init=function(t){n.extend(!0,this,t);this._textRenderer.init({fontSize:this.fontSize,fontWeight:this.fontWeight,fontStretch:this.fontStretch,fillStyle:this.textColor,angle:this.getAngleRad(),fontFamily:this.fontFamily})};n.jqplot.CanvasAxisTickRenderer.prototype.getWidth=function(n){if(this._elem)return this._elem.outerWidth(!0);var t=this._textRenderer,i=t.getWidth(n),r=t.getHeight(n);return Math.abs(Math.sin(t.angle)*r)+Math.abs(Math.cos(t.angle)*i)};n.jqplot.CanvasAxisTickRenderer.prototype.getHeight=function(n){if(this._elem)return this._elem.outerHeight(!0);var t=this._textRenderer,i=t.getWidth(n),r=t.getHeight(n);return Math.abs(Math.cos(t.angle)*r)+Math.abs(Math.sin(t.angle)*i)};n.jqplot.CanvasAxisTickRenderer.prototype.getTop=function(){return this._elem?this._elem.position().top:null};n.jqplot.CanvasAxisTickRenderer.prototype.getAngleRad=function(){return this.angle*Math.PI/180};n.jqplot.CanvasAxisTickRenderer.prototype.setTick=function(n,t,i){return this.value=n,i&&(this.isMinorTick=!0),this};n.jqplot.CanvasAxisTickRenderer.prototype.draw=function(t,i){var r,u,f;return this.label||(this.label=this.prefix+this.formatter(this.formatString,this.value)),this._elem&&(n.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==undefined&&window.G_vmlCanvasManager.uninitElement(this._elem.get(0)),this._elem.emptyForce(),this._elem=null),r=i.canvasManager.getCanvas(),this._textRenderer.setText(this.label,t),u=this.getWidth(t),f=this.getHeight(t),r.width=u,r.height=f,r.style.width=u,r.style.height=f,r.style.textAlign="left",r.style.position="absolute",r=i.canvasManager.initCanvas(r),this._elem=n(r),this._elem.css(this._styles),this._elem.addClass("jqplot-"+this.axis+"-tick"),r=null,this._elem};n.jqplot.CanvasAxisTickRenderer.prototype.pack=function(){this._textRenderer.draw(this._elem.get(0).getContext("2d"),this.label)}})(jQuery);