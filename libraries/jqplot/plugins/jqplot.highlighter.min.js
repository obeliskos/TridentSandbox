(function(n){function t(t,i){var f=t.plugins.highlighter,o=t.series[i.seriesIndex],e=o.markerRenderer,u=f.markerRenderer;u.style=e.style;u.lineWidth=e.lineWidth+f.lineWidthAdjust;u.size=e.size+f.sizeAdjust;var r=n.jqplot.getColorComponents(e.color),s=[r[0],r[1],r[2]],h=r[3]>=.6?r[3]*.6:r[3]*(2-r[3]);u.color="rgba("+s[0]+","+s[1]+","+s[2]+","+h+")";u.init();u.draw(o.gridData[i.pointIndex][0],o.gridData[i.pointIndex][1],f.highlightCanvas._ctx)}function i(t,i,e){var d=t.plugins.highlighter,c=d._tooltipElem,g=i.highlighter||{},o=n.extend(!0,{},d,g),a,s,k,p,w;if(o.useAxesFormatters){var nt=i._xaxis._ticks[0].formatter,tt=i._yaxis._ticks[0].formatter,it=i._xaxis._ticks[0].formatString,rt=i._yaxis._ticks[0].formatString,s,b=nt(it,e.data[0]),h=[];for(a=1;a<o.yvalues+1;a++)h.push(tt(rt,e.data[a]));if(typeof o.formatString=="string")switch(o.tooltipAxes){case"both":case"xy":h.unshift(b);h.unshift(o.formatString);s=n.jqplot.sprintf.apply(n.jqplot.sprintf,h);break;case"yx":h.push(b);h.unshift(o.formatString);s=n.jqplot.sprintf.apply(n.jqplot.sprintf,h);break;case"x":s=n.jqplot.sprintf.apply(n.jqplot.sprintf,[o.formatString,b]);break;case"y":h.unshift(o.formatString);s=n.jqplot.sprintf.apply(n.jqplot.sprintf,h);break;default:h.unshift(b);h.unshift(o.formatString);s=n.jqplot.sprintf.apply(n.jqplot.sprintf,h)}else switch(o.tooltipAxes){case"both":case"xy":for(s=b,a=0;a<h.length;a++)s+=o.tooltipSeparator+h[a];break;case"yx":for(s="",a=0;a<h.length;a++)s+=h[a]+o.tooltipSeparator;s+=b;break;case"x":s=b;break;case"y":s=h.join(o.tooltipSeparator);break;default:for(s=b,a=0;a<h.length;a++)s+=o.tooltipSeparator+h[a]}}else typeof o.formatString=="string"?s=n.jqplot.sprintf.apply(n.jqplot.sprintf,[o.formatString].concat(e.data)):o.tooltipAxes=="both"||o.tooltipAxes=="xy"?s=n.jqplot.sprintf(o.tooltipFormatString,e.data[0])+o.tooltipSeparator+n.jqplot.sprintf(o.tooltipFormatString,e.data[1]):o.tooltipAxes=="yx"?s=n.jqplot.sprintf(o.tooltipFormatString,e.data[1])+o.tooltipSeparator+n.jqplot.sprintf(o.tooltipFormatString,e.data[0]):o.tooltipAxes=="x"?s=n.jqplot.sprintf(o.tooltipFormatString,e.data[0]):o.tooltipAxes=="y"&&(s=n.jqplot.sprintf(o.tooltipFormatString,e.data[1]));n.isFunction(o.tooltipContentEditor)&&(s=o.tooltipContentEditor(s,e.seriesIndex,e.pointIndex,t));c.html(s);var l={x:e.gridData[0],y:e.gridData[1]},v=0,y=.707;i.markerRenderer.show==!0&&(v=(i.markerRenderer.size+o.sizeAdjust)/2);k=r;i.fillToZero&&i.fill&&e.data[1]<0&&(k=f);switch(k[u[o.tooltipLocation]]){case"nw":p=l.x+t._gridPadding.left-c.outerWidth(!0)-o.tooltipOffset-y*v;w=l.y+t._gridPadding.top-o.tooltipOffset-c.outerHeight(!0)-y*v;break;case"n":p=l.x+t._gridPadding.left-c.outerWidth(!0)/2;w=l.y+t._gridPadding.top-o.tooltipOffset-c.outerHeight(!0)-v;break;case"ne":p=l.x+t._gridPadding.left+o.tooltipOffset+y*v;w=l.y+t._gridPadding.top-o.tooltipOffset-c.outerHeight(!0)-y*v;break;case"e":p=l.x+t._gridPadding.left+o.tooltipOffset+v;w=l.y+t._gridPadding.top-c.outerHeight(!0)/2;break;case"se":p=l.x+t._gridPadding.left+o.tooltipOffset+y*v;w=l.y+t._gridPadding.top+o.tooltipOffset+y*v;break;case"s":p=l.x+t._gridPadding.left-c.outerWidth(!0)/2;w=l.y+t._gridPadding.top+o.tooltipOffset+v;break;case"sw":p=l.x+t._gridPadding.left-c.outerWidth(!0)-o.tooltipOffset-y*v;w=l.y+t._gridPadding.top+o.tooltipOffset+y*v;break;case"w":p=l.x+t._gridPadding.left-c.outerWidth(!0)-o.tooltipOffset-v;w=l.y+t._gridPadding.top-c.outerHeight(!0)/2;break;default:p=l.x+t._gridPadding.left-c.outerWidth(!0)-o.tooltipOffset-y*v;w=l.y+t._gridPadding.top-o.tooltipOffset-c.outerHeight(!0)-y*v}c.css("left",p);c.css("top",w);o.fadeTooltip?c.stop(!0,!0).fadeIn(o.tooltipFadeSpeed):c.show();c=null}function e(n,r,u,f,e){var o=e.plugins.highlighter,c=e.plugins.cursor,h,l,s;o.show&&(f==null&&o.isHighlighting?(h=jQuery.Event("jqplotHighlighterUnhighlight"),e.target.trigger(h),s=o.highlightCanvas._ctx,s.clearRect(0,0,s.canvas.width,s.canvas.height),o.fadeTooltip?o._tooltipElem.fadeOut(o.tooltipFadeSpeed):o._tooltipElem.hide(),o.bringSeriesToFront&&e.restorePreviousSeriesOrder(),o.isHighlighting=!1,o.currentNeighbor=null,s=null):f!=null&&e.series[f.seriesIndex].showHighlight&&!o.isHighlighting?(h=jQuery.Event("jqplotHighlighterHighlight"),h.which=n.which,h.pageX=n.pageX,h.pageY=n.pageY,l=[f.seriesIndex,f.pointIndex,f.data,e],e.target.trigger(h,l),o.isHighlighting=!0,o.currentNeighbor=f,o.showMarker&&t(e,f),e.series[f.seriesIndex].show&&o.showTooltip&&(!c||!c._zoom.started)&&i(e,e.series[f.seriesIndex],f),o.bringSeriesToFront&&e.moveSeriesToFront(f.seriesIndex)):f!=null&&o.isHighlighting&&o.currentNeighbor!=f&&e.series[f.seriesIndex].showHighlight&&(s=o.highlightCanvas._ctx,s.clearRect(0,0,s.canvas.width,s.canvas.height),o.isHighlighting=!0,o.currentNeighbor=f,o.showMarker&&t(e,f),e.series[f.seriesIndex].show&&o.showTooltip&&(!c||!c._zoom.started)&&i(e,e.series[f.seriesIndex],f),o.bringSeriesToFront&&e.moveSeriesToFront(f.seriesIndex)))}n.jqplot.eventListenerHooks.push(["jqplotMouseMove",e]);n.jqplot.Highlighter=function(t){this.show=n.jqplot.config.enablePlugins;this.markerRenderer=new n.jqplot.MarkerRenderer({shadow:!1});this.showMarker=!0;this.lineWidthAdjust=2.5;this.sizeAdjust=5;this.showTooltip=!0;this.tooltipLocation="nw";this.fadeTooltip=!0;this.tooltipFadeSpeed="fast";this.tooltipOffset=2;this.tooltipAxes="both";this.tooltipSeparator=", ";this.tooltipContentEditor=null;this.useAxesFormatters=!0;this.tooltipFormatString="%.5P";this.formatString=null;this.yvalues=1;this.bringSeriesToFront=!1;this._tooltipElem;this.isHighlighting=!1;this.currentNeighbor=null;n.extend(!0,this,t)};var r=["nw","n","ne","e","se","s","sw","w"],u={nw:0,n:1,ne:2,e:3,se:4,s:5,sw:6,w:7},f=["se","s","sw","w","nw","n","ne","e"];n.jqplot.Highlighter.init=function(t,i,r){var u=r||{};this.plugins.highlighter=new n.jqplot.Highlighter(u.highlighter)};n.jqplot.Highlighter.parseOptions=function(){this.showHighlight=!0};n.jqplot.Highlighter.postPlotDraw=function(){this.plugins.highlighter&&this.plugins.highlighter.highlightCanvas&&(this.plugins.highlighter.highlightCanvas.resetCanvas(),this.plugins.highlighter.highlightCanvas=null);this.plugins.highlighter&&this.plugins.highlighter._tooltipElem&&(this.plugins.highlighter._tooltipElem.emptyForce(),this.plugins.highlighter._tooltipElem=null);this.plugins.highlighter.highlightCanvas=new n.jqplot.GenericCanvas;this.eventCanvas._elem.before(this.plugins.highlighter.highlightCanvas.createElement(this._gridPadding,"jqplot-highlight-canvas",this._plotDimensions,this));this.plugins.highlighter.highlightCanvas.setContext();var t=document.createElement("div");this.plugins.highlighter._tooltipElem=n(t);t=null;this.plugins.highlighter._tooltipElem.addClass("jqplot-highlighter-tooltip");this.plugins.highlighter._tooltipElem.css({position:"absolute",display:"none"});this.eventCanvas._elem.before(this.plugins.highlighter._tooltipElem)};n.jqplot.preInitHooks.push(n.jqplot.Highlighter.init);n.jqplot.preParseSeriesOptionsHooks.push(n.jqplot.Highlighter.parseOptions);n.jqplot.postDrawHooks.push(n.jqplot.Highlighter.postPlotDraw)})(jQuery);