(function(n){function i(n){var i=null,t;return n.trendline&&n.trendline.show&&(t=n.trendline.label.toString(),t&&(i={label:t,color:n.trendline.color})),i}function r(t,i,r,u){this._type&&(this._type==="line"||this._type=="bar")&&(this.trendline=new n.jqplot.Trendline,u=u||{},n.extend(!0,this.trendline,{color:this.color},r.trendline,u.trendline),this.trendline.renderer.init.call(this.trendline,null))}function u(t,i){var r,u,f;i=n.extend(!0,{},this.trendline,i);this.trendline&&i.show&&(u=i.data||this.data,r=o(u,this.trendline.type),f=i.gridData||this.renderer.makeGridData.call(this,r.data),this.trendline.renderer.draw.call(this.trendline,t,f,{showLine:!0,shadow:this.trendline.shadow}))}function t(n,t,i){var h=i==null?"linear":i,o=n.length,c,v,u=0,s=0,l=0,a=0,y=0,f=[],e=[],r;if(h=="linear")e=n,f=t;else if(h=="exp"||h=="exponential")for(r=0;r<t.length;r++)t[r]<=0?o--:(e.push(n[r]),f.push(Math.log(t[r])));for(r=0;r<o;r++)u=u+e[r],s=s+f[r],a=a+e[r]*f[r],l=l+e[r]*e[r],y=y+f[r]*f[r];return c=(o*a-u*s)/(o*l-u*u),v=(s-c*u)/o,[c,v]}function f(n,i){var r;return r=t(n,i,"linear"),[r[0],r[1]]}function e(n,i){var r,e=n,o=i,u,f;return r=t(e,o,"exp"),u=Math.exp(r[0]),f=Math.exp(r[1]),[u,f]}function o(n,t){for(var s=t==null?"linear":t,u,o,r=[],h=[],c=[],i=0;i<n.length;i++)n[i]!=null&&n[i][0]!=null&&n[i][1]!=null&&(r.push(n[i][0]),h.push(n[i][1]));if(s=="linear")for(u=f(r,h),i=0;i<r.length;i++)o=u[0]*r[i]+u[1],c.push([r[i],o]);else if(s=="exp"||s=="exponential")for(u=e(r,h),i=0;i<r.length;i++)o=u[1]*Math.pow(u[0],r[i]),c.push([r[i],o]);return{data:c,slope:u[0],intercept:u[1]}}n.jqplot.Trendline=function(){this.show=n.jqplot.config.enablePlugins;this.color="#666666";this.renderer=new n.jqplot.LineRenderer;this.rendererOptions={marker:{show:!1}};this.label="";this.type="linear";this.shadow=!0;this.markerRenderer={show:!1};this.lineWidth=1.5;this.shadowAngle=45;this.shadowOffset=1;this.shadowAlpha=.07;this.shadowDepth=3;this.isTrendline=!0};n.jqplot.postSeriesInitHooks.push(r);n.jqplot.postDrawSeriesHooks.push(u);n.jqplot.addLegendRowHooks.push(i)})(jQuery);