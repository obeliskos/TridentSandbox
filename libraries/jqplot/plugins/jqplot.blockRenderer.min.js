(function(n){n.jqplot.BlockRenderer=function(){n.jqplot.LineRenderer.call(this)};n.jqplot.BlockRenderer.prototype=new n.jqplot.LineRenderer;n.jqplot.BlockRenderer.prototype.constructor=n.jqplot.BlockRenderer;n.jqplot.BlockRenderer.prototype.init=function(t){this.css={padding:"2px",border:"1px solid #999",textAlign:"center"};this.escapeHtml=!1;this.insertBreaks=!0;this.varyBlockColors=!1;n.extend(!0,this,t);this.css.backgroundColor?this.color=this.css.backgroundColor:this.css.background?this.color=this.css.background:this.varyBlockColors||(this.css.background=this.color);this.canvas=new n.jqplot.BlockCanvas;this.shadowCanvas=new n.jqplot.BlockCanvas;this.canvas._plotDimensions=this._plotDimensions;this.shadowCanvas._plotDimensions=this._plotDimensions;this._type="block";this.moveBlock=function(n,t,i,r){var u=this.canvas._elem.children(":eq("+n+")");this.data[n][0]=t;this.data[n][1]=i;this._plotData[n][0]=t;this._plotData[n][1]=i;this._stackData[n][0]=t;this._stackData[n][1]=i;this.gridData[n][0]=this._xaxis.series_u2p(t);this.gridData[n][1]=this._yaxis.series_u2p(i);var o=u.outerWidth(),s=u.outerHeight(),f=this.gridData[n][0]-o/2+"px",e=this.gridData[n][1]-s/2+"px";r?(parseInt(r,10)&&(r=parseInt(r,10)),u.animate({left:f,top:e},r)):u.css({left:f,top:e});u=null}};n.jqplot.BlockRenderer.prototype.draw=function(t,i,r){this.plugins.pointLabels&&(this.plugins.pointLabels.show=!1);var s,f,e,i,o,u,h,c,l,a,y=r!=undefined?r:{},v=new n.jqplot.ColorGenerator(this.seriesColors);for(this.canvas._elem.empty(),s=0;s<this.gridData.length;s++)e=this.data[s],i=this.gridData[s],o="",u={},typeof e[2]=="string"?o=e[2]:typeof e[2]=="object"&&(u=e[2]),typeof e[3]=="object"&&(u=e[3]),this.insertBreaks&&(o=o.replace(/ /g,"<br />")),u=n.extend(!0,{},this.css,u),f=n('<div style="position:absolute;margin-left:auto;margin-right:auto;"><\/div>'),this.canvas._elem.append(f),this.escapeHtml?f.text(o):f.html(o),delete u.position,delete u.marginRight,delete u.marginLeft,u.background||u.backgroundColor||u.backgroundImage||(u.background=v.next()),f.css(u),h=f.outerWidth(),c=f.outerHeight(),l=i[0]-h/2+"px",a=i[1]-c/2+"px",f.css({left:l,top:a}),f=null};n.jqplot.BlockCanvas=function(){n.jqplot.ElemContainer.call(this);this._ctx};n.jqplot.BlockCanvas.prototype=new n.jqplot.ElemContainer;n.jqplot.BlockCanvas.prototype.constructor=n.jqplot.BlockCanvas;n.jqplot.BlockCanvas.prototype.createElement=function(t,i,r){var u,f,e,o;return this._offsets=t,u="jqplot-blockCanvas",i!=undefined&&(u=i),f=this._elem?this._elem.get(0):document.createElement("div"),r!=undefined&&(this._plotDimensions=r),e=this._plotDimensions.width-this._offsets.left-this._offsets.right+"px",o=this._plotDimensions.height-this._offsets.top-this._offsets.bottom+"px",this._elem=n(f),this._elem.css({position:"absolute",width:e,height:o,left:this._offsets.left,top:this._offsets.top}),this._elem.addClass(u),this._elem};n.jqplot.BlockCanvas.prototype.setContext=function(){return this._ctx={canvas:{width:0,height:0},clearRect:function(){return null}},this._ctx}})(jQuery);