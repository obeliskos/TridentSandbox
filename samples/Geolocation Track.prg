{
  "progName": "Geolocation Track",
  "htmlText": "<h3>\n    Geolocation Track Demo\n</h3>\n<button class=\"minimal\" onclick=\"getLocation()\">Start Tracking</button>\n<button class=\"minimal\" onclick=\"sbv.stopWatch()\">Stop Tracking</button>\n\n<p id=\"demo\">Click the button to track your coordinates:</p>\n\n",
  "scriptText": "// This sample demonstrates real time tracking\n// Taken from : http://www.w3schools.com/html/html5_geolocation.asp\n\nvar sbv = {\n    watchId : null,\n    lastPosition : null,\n    pElement : document.getElementById(\"demo\"),\n\n    stopWatch : function() {\n        if (sbv.watchId) navigator.geolocation.clearWatch(sbv.watchId);\n        sbv.pElement.innerHTML += \"<br/>Stopped.\";\n    }\n};\n\nsandbox.events.clean = function() {\n    sbv.stopWatch();\n\n    delete sbv.watchId;\n    delete sbv.pElement;\n    delete sbv.stopWatch;\n};\n\nfunction getLocation()\n{\n    if (navigator.geolocation) {\n        sbv.watchId = navigator.geolocation.watchPosition(showPosition, geolocError, {enableHighAccuracy:true, maximumAge:30000, timeout:27000});\n    }\n    else {\n        sbv.pElement.innerHTML=\"Geolocation is not supported by this browser.\";\n    }\n}\n\nfunction geolocError(err) {\n    alertify.error('ERROR(' + err.code + '): ' + err.message);\n}\n\nfunction showPosition(position)\n{\n    sbv.lastPosition = position.coords;\n\n    var d = new Date();\n    var dformat = [d.getMonth()+1,\n                   d.getDate(),\n                   d.getFullYear()].join('/')+\n        ' ' +\n        [d.getHours(),\n         d.getMinutes(),\n         d.getSeconds()].join(':');\n\n    var logstr = dformat + \"<br/><br/>Latitude: \" + position.coords.latitude + \n        \"<br/>Longitude: \" + position.coords.longitude;\n\n    if (position.coords.altitude) logstr += \"<br/>Altitude: \" + position.coords.altitude;\n    if (position.coords.accuracy) logstr += \"<br/>Accuracy: \" + position.coords.accuracy;\n    if (position.coords.speed) logstr += \"<br/>Speed: \" + position.coords.speed;\n\n    sbv.pElement.innerHTML=logstr;\t\n}\n"
}