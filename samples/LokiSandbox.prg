{
  "progName": "LokiSandbox",
  "htmlText": "<style>\na.wjslink {\n   color: rgba(156, 114, 255, 0.47);\n}\na.wjslink:hover {\n   color: rgba(156, 114, 255, 0.87);\n}\n\n.fullScreen {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    left: 0;\n}\n\n/*width of each section*/\n.section1.win-hub-section {\n    width: 650px;\n    overflow: hidden;\n}\n\n.section2.win-hub-section {\n    width: 650px; \n}\n\n.section3.win-hub-section {\n    width: 900px;\n}\n\n.section4.win-hub-section {\n    width: 630px;\n}\n\n/*Images in a FlexBox*/\n.imagesFlexBox {\n    display: flex;\n    flex-flow: row wrap;\n    flex-direction: column;\n    width: calc(100% + 10px);\n    height: 100%;\n    overflow: hidden;\n    margin-left: -5px;\n    margin-right: -5px;\n}\n\n    .imagesFlexBox .imageItem {\n        margin: 5px;\n    }\n\n#insertListView {\n    height: 100%;\n}\n\n.horizontallistview {\n    height: 100%;\n}\n\n/*ListView style inside section container*/\n#listView.win-listview {\n    height: calc(100% - 150px);\n    width: 100%;\n}\n\n\n#listView.win-listview .win-container {\n    width: 242px;\n    height: 60px;\n}\n\n/*App Header Styles*/\n#appHeader {\n    position: absolute;\n    z-index: 1;\n    top: 20px;\n    left: 50px;\n}\n\n    #appHeader .win-navigation-backbutton {\n        margin-right: 20px;\n    }\n\n    #appHeader h1 {\n        display: inline;\n    }\n\n/*styles when app is in the portrait mode*/\n@media all and (min-height: 1280px) {\n    .section2.win-hub-section {\n        overflow: hidden;\n    }\n}\n\n/*styles for larger screens*/\n@media (min-width: 1920px) {\n    .section2.win-hub-section {\n        overflow: hidden;\n    }\n\n    /*change the width of the form control to cover only one input box*/\n    .section4.win-hub-section {\n        width: 300px;\n    }\n\n}\n\n</style>\n\n<div style=\"display:none\" id=\"divLokiCode\">\n</div>\n\n<div id=\"divMainFS\" class=\"fullScreen\" style=\"display:none\">\n\n    <!-- app header and backbutton-->\n    <div id=\"appHeader\">\n        <button data-win-control=\"WinJS.UI.BackButton\"></button>\n        <h2>LokiJS Sandbox</h2>\n    </div>\n\n    <!-- Template for ListView in section 2 -->\n    <div class=\"smallListIconTextTemplate\" data-win-control=\"WinJS.Binding.Template\">\n        <div class=\"smallListIconTextItem\">\n            <img src=\"#\" class=\"smallListIconTextItem-Image\" data-win-bind=\"src: picture\" />\n            <div class=\"smallListIconTextItem-Detail\">\n                <h4 data-win-bind=\"textContent: title\"></h4>\n                <h6 data-win-bind=\"textContent: text\"></h6>\n            </div>\n        </div>\n    </div>\n\n    <!-- Hub Control -->\n    <div data-win-control=\"WinJS.UI.Hub\">\n        <div class=\"section1\" style=\"width:860px;\" data-win-control=\"WinJS.UI.HubSection\" data-win-options=\"{header: 'Sandbox Editor', isHeaderStatic: true}\">\n            <div>\n            \t<textarea id=\"jsedit\"></textarea><br/>\n                <button class=\"minimal\" onclick=\"runloki();\">Run</button>\n            </div>\n        </div>\n        <div id=\"list\" class=\"section2\" style=\"width:620px;\" data-win-control=\"WinJS.UI.HubSection\" data-win-options=\"{header: 'Text Output', isHeaderStatic: true}\">\n            <div>\n\t\t\t\t<textarea id=\"lsoutput\"></textarea> \n            </div>\n        </div>\n\n        <div class=\"section3\" data-win-control=\"WinJS.UI.HubSection\" data-win-options=\"{header: 'Inpector', isHeaderStatic: true}\">\n        \t<table width=\"100%\">\n            <tr>\n                <div id=\"divInspect\" style=\"overflow-y:auto\">\n                \n                </div>\n            </tr>\n            </table>\n        </div>\n        <div class=\"section4\" data-win-control=\"WinJS.UI.HubSection\" data-win-options=\"{header: 'About', isHeaderStatic: true}\">\n        \t<table width=\"100%\">\n            <tr>\n                <div>\n\t\t\t\t\t<h3>Loki Sandbox 0.1.0</h3>\n                    <p>\n                    Loki Sandbox is a browser app which you can use to try out the LokiJS javascript library.  \n                    LokiJS is a fast, in-memory document-oriented datastore for node.js and web browsers.  \n                    This app lets you add collections, run queries, log and inspect objects.\n                    </p>\n                    <p>\n                    <a href=\"http://lokijs.org\" target=\"_blank\">LokiJS</a> was created by :<br/>\n                    Joe Minichino and David Easterday.\n                    </p>\n                    <p>\n                    This Loki Sandbox app was created using <a href='SandboxLoaderWJS.htm' target='_blank'>Trident Sandbox</a> by :<br/> David Easterday.\n                    </p>\n                </div>\n            </tr>\n            </table>\n        </div>\n    </div>\n</div>\n\n",
  "scriptText": "$(\"#UI_MainPlaceholder\").css(\"height\", \"600px\");\nAPI_SetBackgroundColor(\"#222\");\n\nvar sbv = {\n    editorJS : null,\n    editorOutput : null\n}\n\n\nfunction EVT_CleanSandbox()\n{\n\tdelete sbv.editorJS;\n}\n\nvar pageURI = \"\";\n\nswitch (VAR_TRIDENT_ENV_TYPE) {\n\tcase \"IDE WJS\" : pageURI = \"./TridentSandboxWJS.htm\"; break;\n    case \"SBL WJS\" : pageURI = location.href; break;\n\tdefault : break;    \n}\n\nfunction setupEditor() {\n\tsbv.editorJS = CodeMirror.fromTextArea(document.getElementById(\"jsedit\"), {\n\t\t\tsmartIndent: false,\n\t\t\tlineNumbers: true,\n\t\t\ttheme: \"pastel-on-dark\",\n\t\t\tmode: \"javascript\",\n\t\t\tfoldGutter: true,\n\t\t\tgutters: [\"CodeMirror-linenumbers\", \"CodeMirror-foldgutter\"],\n\t\t\textraKeys: {\n\t\t\t\t\"Ctrl-Q\": function(cm) { \n\t\t\t\t\tcm.foldCode(cm.getCursor()); \n\t\t\t\t},\n\t\t\t\t\"F11\": function(cm) {\n\t\t\t\t\tcm.setOption(\"fullScreen\", !cm.getOption(\"fullScreen\"));\n\t\t\t\t},\n\t\t\t\t\"Esc\": function(cm) {\n\t\t\t\t\tif (cm.getOption(\"fullScreen\")) cm.setOption(\"fullScreen\", false);\n\t\t\t\t}\n\t\t\t}\n\t});\n\tsbv.editorOutput = CodeMirror.fromTextArea(document.getElementById(\"lsoutput\"), {\n\t\t\tsmartIndent: false,\n\t\t\tlineNumbers: true,\n\t\t\ttheme: \"pastel-on-dark\",\n\t\t\tmode: \"javascript\",\n\t\t\tfoldGutter: true,\n\t\t\tgutters: [\"CodeMirror-linenumbers\", \"CodeMirror-foldgutter\"],\n\t\t\textraKeys: {\n\t\t\t\t\"Ctrl-Q\": function(cm) { \n\t\t\t\t\tcm.foldCode(cm.getCursor()); \n\t\t\t\t},\n\t\t\t\t\"F11\": function(cm) {\n\t\t\t\t\tcm.setOption(\"fullScreen\", !cm.getOption(\"fullScreen\"));\n\t\t\t\t},\n\t\t\t\t\"Esc\": function(cm) {\n\t\t\t\t\tif (cm.getOption(\"fullScreen\")) cm.setOption(\"fullScreen\", false);\n\t\t\t\t}\n\t\t\t}\n\t});\n    \n    sbv.editorJS.setSize(\"840px\", $(window).height() - 340);\n    sbv.editorOutput.setSize(\"600px\", $(window).height() - 340);\n    $(\"#divInspect\").height($(window).height() - 340);\n    \n    var initCode = \"// This database has already been created for you.\\r\\n\";\n    initCode += \"// var db = new loki('sandbox');\\r\\n\\r\\n\";\n    initCode += \"// Add a collection to the database\\r\\n\";\n    initCode += \"var items = db.addCollection('items');\\r\\n\\r\\n\";\n    initCode += \"// Add some documents to the collection\\r\\n\";\n    initCode += \"items.insert({ name : 'mjolnir', owner: 'thor', maker: 'dwarves' });\\r\\n\";\n    initCode += \"items.insert({ name : 'gungnir', owner: 'odin', maker: 'elves' });\\r\\n\";\n    initCode += \"items.insert({ name : 'tyrfing', owner: 'Svafrlami', maker: 'dwarves' });\\r\\n\";\n    initCode += \"items.insert({ name : 'draupnir', owner: 'odin', maker: 'elves' });\\r\\n\\r\\n\";\n    initCode += \"// Find and update an existing document\\r\\n\";\n    initCode += \"var tyrfing = items.findOne({'name': 'tyrfing'});\\r\\n\";\n    initCode += \"tyrfing.owner = 'arngrim';\\r\\n\";\n    initCode += \"items.update(tyrfing);\\r\\n\\r\\n\";\n    initCode += \"// These statements send to Text Output\\r\\n\";\n    initCode += \"logText('tyrfing value :');\\r\\n\";\n    initCode += \"logObject(tyrfing);\\r\\n\";\n\tinitCode += \"logText('odins items');\\r\\n\";\n\tinitCode += \"logObject(items.find({ 'owner': 'odin' }));\\r\\n\\r\\n\";\n    initCode += \"// This statement sends to Inspector\\r\\n\";\n    initCode += \"inspectObject(db);\\r\\n\";\n    \n\tsbv.editorJS.setValue(initCode);\n    sbv.editorOutput.setValue('Welcome to loki sandbox 0.1.0\\r\\n');\n    \n}\n\nfunction logText(message) {\n\tvar oldText = sbv.editorOutput.getValue();\n    oldText += message + \"\\r\\n\";\n    sbv.editorOutput.setValue(oldText);\n}\n\nfunction logObject(obj) {\n\tvar oldText = sbv.editorOutput.getValue();\n    oldText += JSON.stringify(obj, undefined, 2) + \"\\r\\n\";\n    sbv.editorOutput.setValue(oldText);\n}\n\nfunction inspectObject(obj) {\n\t$(\"#divInspect\").empty();\n\tvar tbl = prettyPrint( obj, { /* options such as maxDepth, etc. */ });\n    $(\"#divInspect\").append(tbl);\n}\n\nfunction runloki() {\n\t$(\"#divLokiCode\").empty();\n\tsbv.editorOutput.setValue('');\n    \n\tvar s = document.createElement(\"script\");\n    var ls = \"(function() { \";\n    ls += \"var db = new loki('sandbox');\";\n    ls += sbv.editorJS.getValue();\n    ls += \" }());\"\n    \n\ts.innerHTML = ls;\n\t\t\n\t// give dom a chance to clean out by waiting a bit?\n\tsetTimeout(function() {\n\t\tdocument.getElementById(\"divLokiCode\").appendChild(s);\n\t}, 250);\n    \n}\n\nWinJS.UI.Pages.define(pageURI, {\n    ready: function (element, options) {\n    \t$(\"#divMainFS\").show();\n\t\tsetupEditor();\n        runloki();\n\t},\n    \n    unload: function () {\n        // TODO: Respond to navigations away from this page.\n    },\n    \n});\n\n"
}